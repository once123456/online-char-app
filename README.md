# React Firebase å®¶é•¿ç®¡ç†ç³»ç»Ÿ

ä¸€ä¸ªåŸºäº React + Firebase çš„å®¶é•¿ç®¡ç†ç³»ç»Ÿï¼ŒåŒ…å«èŠå¤©ã€è¯·å‡ç”³è¯·ã€æ´»åŠ¨ä¸­å¿ƒç­‰åŠŸèƒ½æ¨¡å—ã€‚

## ğŸ“ é¡¹ç›®ç»“æ„

```
react-firebase-chat/
â”œâ”€â”€ public/                    # é™æ€èµ„æº
â”‚   â”œâ”€â”€ bg.jpg                # èƒŒæ™¯å›¾ç‰‡
â”‚   â”œâ”€â”€ avatar.png            # é»˜è®¤å¤´åƒ
â”‚   â””â”€â”€ ...                   # å…¶ä»–å›¾æ ‡èµ„æº
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/           # ç»„ä»¶ç›®å½•
â”‚   â”‚   â”œâ”€â”€ activities/      # æ´»åŠ¨ä¸­å¿ƒæ¨¡å—
â”‚   â”‚   â”‚   â”œâ”€â”€ Activities.jsx           # æ´»åŠ¨åˆ—è¡¨ï¼ˆç¡¬ç¼–ç æ•°æ®ï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ ActivityDetail.jsx      # æ´»åŠ¨è¯¦æƒ…é¡µ
â”‚   â”‚   â”‚   â”œâ”€â”€ VotingPanel.jsx         # æŠ•ç¥¨åŠŸèƒ½ï¼ˆç¡¬ç¼–ç æ•°æ®ï¼‰
â”‚   â”‚   â”‚   â””â”€â”€ activities.css          # æ´»åŠ¨æ ·å¼
â”‚   â”‚   â”œâ”€â”€ auth/             # è®¤è¯æ¨¡å—
â”‚   â”‚   â”‚   â”œâ”€â”€ Auth.jsx                # ç™»å½•/æ³¨å†Œç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ AccountsTestPanel.jsx   # Accountsè¡¨æµ‹è¯•å·¥å…·
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.css                # è®¤è¯æ ·å¼
â”‚   â”‚   â”‚   â””â”€â”€ accountsTestPanel.css   # æµ‹è¯•é¢æ¿æ ·å¼
â”‚   â”‚   â”œâ”€â”€ chat/             # èŠå¤©æ¨¡å—
â”‚   â”‚   â”‚   â”œâ”€â”€ Chat.jsx                # èŠå¤©ç»„ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ chat.css                # èŠå¤©æ ·å¼
â”‚   â”‚   â”œâ”€â”€ detail/           # è¯¦æƒ…æ¨¡å—
â”‚   â”‚   â”‚   â”œâ”€â”€ Detail.jsx             # è¯¦æƒ…ç»„ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ detail.css             # è¯¦æƒ…æ ·å¼
â”‚   â”‚   â”œâ”€â”€ leaveRequest/     # è¯·å‡ç”³è¯·æ¨¡å—
â”‚   â”‚   â”‚   â”œâ”€â”€ pullRequest/           # è¯·å‡è¡¨å•
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ index.jsx          # è¯·å‡è¡¨å•ç»„ä»¶
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ pullRequest.css    # è¡¨å•æ ·å¼
â”‚   â”‚   â”‚   â””â”€â”€ studentsCourseInfo/   # å­¦ç”Ÿè¯¾ç¨‹ä¿¡æ¯
â”‚   â”‚   â”‚       â”œâ”€â”€ index.jsx                  # è¯¾ç¨‹ä¿¡æ¯å±•ç¤º
â”‚   â”‚   â”‚       â”œâ”€â”€ FirebaseTestPanel.jsx      # å­¦ç”Ÿè¡¨æµ‹è¯•å·¥å…·
â”‚   â”‚   â”‚       â”œâ”€â”€ RequestsTestPanel.jsx      # è¯·å‡ç”³è¯·æµ‹è¯•å·¥å…·
â”‚   â”‚   â”‚       â”œâ”€â”€ studentsCourseInfo.css     # è¯¾ç¨‹ä¿¡æ¯æ ·å¼
â”‚   â”‚   â”‚       â””â”€â”€ firebaseTestPanel.css      # æµ‹è¯•é¢æ¿æ ·å¼
â”‚   â”‚   â”œâ”€â”€ list/             # åˆ—è¡¨æ¨¡å—
â”‚   â”‚   â”‚   â”œâ”€â”€ List.jsx              # åˆ—è¡¨ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ list.css              # åˆ—è¡¨æ ·å¼
â”‚   â”‚   â”‚   â”œâ”€â”€ chatList/             # èŠå¤©åˆ—è¡¨
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ChatList.jsx      # èŠå¤©åˆ—è¡¨ç»„ä»¶
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ chatList.css     # èŠå¤©åˆ—è¡¨æ ·å¼
â”‚   â”‚   â”‚   â””â”€â”€ userInfo/            # ç”¨æˆ·ä¿¡æ¯
â”‚   â”‚   â”‚       â”œâ”€â”€ UserInfo.jsx      # ç”¨æˆ·ä¿¡æ¯ç»„ä»¶
â”‚   â”‚   â”‚       â””â”€â”€ userInfo.css      # ç”¨æˆ·ä¿¡æ¯æ ·å¼
â”‚   â”‚   â””â”€â”€ notification/    # é€šçŸ¥æ¨¡å—
â”‚   â”‚       â”œâ”€â”€ Notification.jsx      # é€šçŸ¥ç»„ä»¶
â”‚   â”‚       â””â”€â”€ notification.css      # é€šçŸ¥æ ·å¼
â”‚   â”œâ”€â”€ pages/                # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ LeaveRequest.jsx          # è¯·å‡ç”³è¯·é¡µé¢ï¼ˆéƒ¨åˆ†ç¡¬ç¼–ç ï¼‰
â”‚   â”‚   â””â”€â”€ leaveRequest.css          # è¯·å‡é¡µé¢æ ·å¼
â”‚   â”œâ”€â”€ lib/                  # å·¥å…·åº“
â”‚   â”‚   â””â”€â”€ firebase.js       # Firebase é…ç½®
â”‚   â”œâ”€â”€ App.jsx               # ä¸»åº”ç”¨ç»„ä»¶
â”‚   â”œâ”€â”€ main.jsx              # åº”ç”¨å…¥å£
â”‚   â””â”€â”€ index.css             # å…¨å±€æ ·å¼
â”œâ”€â”€ .env                      # ç¯å¢ƒå˜é‡ï¼ˆéœ€é…ç½® VITE_FIREBASE_API_KEYï¼‰
â”œâ”€â”€ package.json              # é¡¹ç›®ä¾èµ–
â”œâ”€â”€ vite.config.js            # Vite é…ç½®
â””â”€â”€ README.md                 # é¡¹ç›®è¯´æ˜æ–‡æ¡£
```

## ğŸš€ åŠŸèƒ½æ¨¡å—

### 1. è®¤è¯ç³»ç»Ÿ (`src/components/auth/`)
- **ç™»å½•/æ³¨å†Œ**: å®¶é•¿é‚®ç®±ç™»å½•ï¼Œæ³¨å†Œæ—¶ç»‘å®šå­¦ç”ŸID
- **æƒé™æ§åˆ¶**: æ ¹æ®ç™»å½•ç”¨æˆ·çš„å­¦ç”ŸIDè‡ªåŠ¨è¿‡æ»¤æ•°æ®
- **æµ‹è¯•å·¥å…·**: Accountsè¡¨æµ‹è¯•é¢æ¿ï¼Œå¯åˆ›å»ºæµ‹è¯•è´¦å·

**ç¡¬ç¼–ç çŠ¶æ€**: âŒ æ— ç¡¬ç¼–ç ï¼Œå®Œå…¨ä½¿ç”¨ Firebase Authentication å’Œ Firestore

### 2. è¯·å‡ç”³è¯·ç³»ç»Ÿ (`src/pages/LeaveRequest.jsx` + `src/components/leaveRequest/`)
- **è¯¾ç¨‹ä¿¡æ¯å±•ç¤º**: æ˜¾ç¤ºå­¦ç”Ÿè¯¾ç¨‹ã€å³å°†å¼€å§‹çš„è¯¾ç¨‹
- **è¯·å‡ç”³è¯·**: å¡«å†™è¯·å‡åŸå› ã€é€‰æ‹©è¡¥è¯¾æ—¶é—´
- **ç”³è¯·è®°å½•**: æŸ¥çœ‹å†å²è¯·å‡ç”³è¯·åŠå®¡æ ¸çŠ¶æ€
- **æµ‹è¯•å·¥å…·**: 
  - å­¦ç”Ÿè¡¨æµ‹è¯•å·¥å…·ï¼ˆFirebaseTestPanelï¼‰
  - è¯·å‡ç”³è¯·æµ‹è¯•å·¥å…·ï¼ˆRequestsTestPanelï¼‰

**ç¡¬ç¼–ç çŠ¶æ€**: âš ï¸ **éƒ¨åˆ†ç¡¬ç¼–ç **
- `LeaveRequest.jsx`: è¯¾ç¨‹æ•°æ®ï¼ˆlessonsæ•°ç»„ï¼‰ä½¿ç”¨ç¡¬ç¼–ç  âš ï¸
  - **æ³¨æ„**: Firebaseä¸­å·²æœ‰ `courses` é›†åˆï¼Œä½†ä»£ç å°šæœªè¿æ¥
- å­¦ç”Ÿæ•°æ®ä» Firebase `students` é›†åˆåŠ è½½ âœ…
- è¯·å‡ç”³è¯·æ•°æ®ä» Firebase `requests` é›†åˆåŠ è½½ âœ…

### 3. æ´»åŠ¨ä¸­å¿ƒ (`src/components/activities/`)
- **æ´»åŠ¨åˆ—è¡¨**: å›¾ç‰‡+æ–‡å­—å±•ç¤ºï¼Œæ”¯æŒçŠ¶æ€ç­›é€‰
- **æ´»åŠ¨è¯¦æƒ…**: æŸ¥çœ‹æ´»åŠ¨ä»‹ç»ã€è§„åˆ™ã€å®‰æ’ã€å¥–é¡¹
- **æŠ•ç¥¨åŠŸèƒ½**: ä¸ºè¿›è¡Œä¸­çš„æ´»åŠ¨æŠ•ç¥¨æ”¯æŒè¡¨ç°çªå‡ºçš„å°æœ‹å‹

**ç¡¬ç¼–ç çŠ¶æ€**: âš ï¸ **å®Œå…¨ç¡¬ç¼–ç **
- `Activities.jsx`: æ´»åŠ¨æ•°æ®å®Œå…¨ç¡¬ç¼–ç ï¼ˆ4ä¸ªç¤ºä¾‹æ´»åŠ¨ï¼‰
- `VotingPanel.jsx`: æŠ•ç¥¨æ•°æ®ç¡¬ç¼–ç 
- åç»­éœ€è¦è¿ç§»åˆ° Firebase `activities` é›†åˆ

### 4. èŠå¤©ç³»ç»Ÿ (`src/components/chat/`, `src/components/list/`)
- **èŠå¤©ç•Œé¢**: å®æ—¶èŠå¤©åŠŸèƒ½
- **ç”¨æˆ·åˆ—è¡¨**: æ˜¾ç¤ºè”ç³»äººåˆ—è¡¨
- **ç”¨æˆ·ä¿¡æ¯**: æ˜¾ç¤ºç”¨æˆ·è¯¦ç»†ä¿¡æ¯

**ç¡¬ç¼–ç çŠ¶æ€**: âš ï¸ **å¯èƒ½ç¡¬ç¼–ç **ï¼ˆéœ€è¦ç¡®è®¤ï¼‰

## ğŸ”¥ Firebase æ•°æ®åº“ç»“æ„

### Collectionsï¼ˆé›†åˆï¼‰

#### 1. `students` - å­¦ç”Ÿè¡¨
```javascript
{
  id: "STUDENT_001",  // æ–‡æ¡£ID
  enrollment: [  // å­¦ç”Ÿæ³¨å†Œçš„è¯¾ç¨‹åˆ—è¡¨
    {
      id: 1,  // è¯¾ç¨‹ID
      name: "æ•…äº‹èµ·èˆª - èªè­˜è‡ªæˆ‘èˆ‡èˆå°",
      courseId: "SPEC_C001round001",  // å…³è”çš„è¯¾ç¨‹ID
      dateStr: "2025-12-13",
      timeSlot: "SAT 12:00 - 14:00",
      completed: false
    },
    // ... æ›´å¤šè¯¾ç¨‹
  ],
  personalInfo: {
    name: "å­¦ç”Ÿå§“å",
    chineseName: "ä¸­æ–‡å",
    level: "K3",  // å¹´çº§/çº§åˆ«
    sex: "M",  // æ€§åˆ«
    preferredLanguage: "Cantonese",  // åå¥½è¯­è¨€
    parentName: "å®¶é•¿å§“å",
    parentContact: "å®¶é•¿è”ç³»æ–¹å¼",
    allergies: "NIL",  // è¿‡æ•ä¿¡æ¯
    condition: "",  // èº«ä½“çŠ¶å†µ
    comfortMethod: "",  // å®‰æŠšæ–¹å¼
    favChar: ""  // å–œæ¬¢çš„è§’è‰²
  }
}
```

#### 2. `accounts` - è´¦å·è¡¨
```javascript
{
  id: "ç”¨æˆ·UID",  // æ–‡æ¡£IDï¼ˆä½¿ç”¨Firebase Authçš„UIDï¼‰
  email: "parent@example.com",
  studentId: "STUDENT_001",
  role: "parent",
  createdAt: "2025-01-01T00:00:00.000Z",
  uid: "ç”¨æˆ·UID"  // å†—ä½™å­—æ®µ
}
```

**æ³¨æ„**: è´¦å·æ•°æ®åŒæ—¶ä¿å­˜åœ¨ä¸¤ä¸ªä½ç½®ï¼š
- `accounts/{uid}` - ä½¿ç”¨UIDä½œä¸ºæ–‡æ¡£IDï¼ˆä¸»è¦æŸ¥è¯¢ä½ç½®ï¼‰
- `accounts` é›†åˆ - ä½¿ç”¨è‡ªåŠ¨ç”Ÿæˆçš„æ–‡æ¡£IDï¼ˆå…¼å®¹æ—§æ•°æ®ï¼‰

#### 3. `requests` - è¯·å‡ç”³è¯·è¡¨
```javascript
{
  id: "è‡ªåŠ¨ç”ŸæˆID",
  studentId: "STUDENT_001",  // å­¦ç”ŸIDï¼ˆä»ç™»å½•ç”¨æˆ·è·å–ï¼‰
  studentName: "å­¦ç”Ÿå§“å",
  lesson: {  // é€‰ä¸­çš„è¯¾ç¨‹ä¿¡æ¯
    id: 3,  // è¯¾ç¨‹åºå·
    name: "è¯¾ç¨‹åç§°",
    dateTime: "2025-12-20T12:00-14:00",  // åŸè¯¾ç¨‹æ—¥æœŸæ—¶é—´
    timeSlot: "SAT 12:00 - 14:00",  // åŸè¯¾ç¨‹æ—¶é—´æ®µ
    courseId: "SPEC_C001round001"  // è¯¾ç¨‹IDï¼ˆå¯é€‰ï¼‰
  },
  courseCode: "SPEC_C001",  // è¯¾ç¨‹ä»£ç 
  courseName: "æ¼”è®²è¯¾ç¨‹",  // è¯¾ç¨‹åç§°
  reason: "illness",  // è¯·å‡åŸå› ï¼ˆå¿…å¡«ï¼‰
  // å¯é€‰å€¼: "illness"ï¼ˆèº«ä½“ä¸é€‚ï¼‰, "family"ï¼ˆå®¶åº­äº‹åŠ¡ï¼‰, 
  //         "travel"ï¼ˆå¤–å‡ºæ—…è¡Œï¼‰, "exam"ï¼ˆå­¦æ ¡è€ƒè¯•ï¼‰, "other"ï¼ˆå…¶ä»–åŸå› ï¼‰
  description: "è¯·å‡è¯´æ˜",  // è¯¦ç»†è¯´æ˜ï¼ˆé€‰å¡«ï¼‰
  makeupOption: "specific_time",  // è¡¥è¯¾/æ¢è¯¾å®‰æ’ï¼ˆå¿…å¡«ï¼‰
  // å¯é€‰å€¼: "specific_time"ï¼ˆé€‰æ‹©å…¶ä»–æ—¶é—´è¡¥è¯¾ï¼‰, 
  //         "next_quarter"ï¼ˆå»¶æœŸè‡³ä¸‹ä¸€å­£åº¦ï¼‰, 
  //         "skip"ï¼ˆè·³è¿‡æœ¬èŠ‚è¯¾ï¼‰
  selectedTimeSlot: {  // é€‰æ‹©çš„è¡¥è¯¾æ—¶é—´ï¼ˆå½“makeupOptionä¸º"specific_time"æ—¶ï¼‰
    id: "SPEC_C001round001_lesson_5",  // è¡¥è¯¾æ—¶é—´å”¯ä¸€æ ‡è¯†
    courseId: "SPEC_C001round001",  // è¡¥è¯¾è¯¾ç¨‹ID
    lessonId: "5",  // è¡¥è¯¾è¯¾ç¨‹ä¸­çš„ç¬¬å‡ èŠ‚
    lessonName: "è¯¾ç¨‹åç§°",  // è¡¥è¯¾è¯¾ç¨‹åç§°
    date: "2025-12-27",  // è¡¥è¯¾æ—¥æœŸ
    dateDisplay: "2025å¹´12æœˆ27æ—¥",  // æ ¼å¼åŒ–çš„æ—¥æœŸæ˜¾ç¤º
    day: "å‘¨å…­",  // æ˜ŸæœŸå‡ 
    time: "SAT 12:00 - 14:00",  // è¡¥è¯¾æ—¶é—´æ®µ
    available: true  // æ˜¯å¦å¯ç”¨
  },
  submitTime: "2025-12-17 14:30:00",  // æäº¤æ—¶é—´ï¼ˆæ ¼å¼ï¼šYYYY-MM-DD HH:mm:ssï¼‰
  status: "pending",  // ç”³è¯·çŠ¶æ€
  // å¯é€‰å€¼: "pending"ï¼ˆå¾…å®¡æ ¸ï¼‰, "approved"ï¼ˆå·²é€šè¿‡ï¼‰, 
  //         "rejected"ï¼ˆå·²æ‹’ç»ï¼‰, "completed"ï¼ˆå·²å®Œæˆï¼‰
  reviewTime: "2025-12-17 15:20:00",  // å®¡æ ¸æ—¶é—´ï¼ˆæ ¼å¼ï¼šYYYY-MM-DD HH:mm:ssï¼‰
  reviewNote: "å®¡æ ¸å¤‡æ³¨",  // å®¡æ ¸å¤‡æ³¨/åŸå› 
  reviewedBy: "admin_uid"  // å®¡æ ¸äººIDï¼ˆå¯é€‰ï¼‰
}
```

**è¯·å‡è¡¨å•å­—æ®µè¯´æ˜**ï¼š

1. **è¯·å‡åŸå› ** (`reason`) - å¿…å¡«
   - `illness`: èº«ä½“ä¸é€‚
   - `family`: å®¶åº­äº‹åŠ¡
   - `travel`: å¤–å‡ºæ—…è¡Œ
   - `exam`: å­¦æ ¡è€ƒè¯•
   - `other`: å…¶ä»–åŸå› 

2. **è¯¦ç»†è¯´æ˜** (`description`) - é€‰å¡«
   - æ–‡æœ¬åŸŸï¼Œç”¨äºè¯¦ç»†æè¿°è¯·å‡åŸå› 

3. **è¡¥è¯¾/æ¢è¯¾å®‰æ’** (`makeupOption`) - å¿…å¡«
   - `specific_time`: é€‰æ‹©å…¶ä»–æ—¶é—´è¡¥è¯¾
     - éœ€è¦ä»åŒä¸€ä¸»é¢˜ã€åŒä¸€å­£åº¦ä½†ä¸åŒæ—¶é—´æ®µçš„è¯¾ç¨‹ä¸­é€‰æ‹©è¡¥è¯¾æ—¶é—´
     - ç³»ç»Ÿä¼šè‡ªåŠ¨æŸ¥æ‰¾åŒ¹é…çš„è¯¾ç¨‹å¹¶æ˜¾ç¤ºå¯é€‰æ—¶é—´æ®µ
   - `next_quarter`: å»¶æœŸè‡³ä¸‹ä¸€å­£åº¦
     - å°†æœ¬èŠ‚è¯¾å®‰æ’åˆ°ä¸‹ä¸€ä¸ªå­¦æœŸè¡¥ä¸Š
   - `skip`: è·³è¿‡æœ¬èŠ‚è¯¾
     - ä¸è¿›è¡Œè¡¥è¯¾ï¼Œç›´æ¥ç»§ç»­åç»­è¯¾ç¨‹

4. **è¡¥è¯¾æ—¶é—´é€‰æ‹©** (`selectedTimeSlot`) - å½“`makeupOption`ä¸º`specific_time`æ—¶å¿…å¡«
   - ä»ç³»ç»Ÿè‡ªåŠ¨åŒ¹é…çš„è¡¥è¯¾æ—¶é—´ä¸­é€‰æ‹©
   - åŒ¹é…è§„åˆ™ï¼šåŒä¸€`category`ï¼ˆå¦‚SPECï¼‰ã€åŒä¸€`round`ï¼ˆå¦‚round001ï¼‰ï¼Œä½†ä¸åŒè¯¾ç¨‹ç¼–å·çš„è¯¾ç¨‹
   - åªæ˜¾ç¤ºæœªå®Œæˆä¸”æ—¥æœŸåœ¨æœªæ¥çš„è¯¾ç¨‹

#### 4. `activities` - æ´»åŠ¨è¡¨ï¼ˆå¾…å®ç°ï¼‰
**å½“å‰çŠ¶æ€**: âš ï¸ ä½¿ç”¨ç¡¬ç¼–ç æ•°æ®ï¼Œå°šæœªè¿æ¥æ•°æ®åº“

```javascript
{
  id: "è‡ªåŠ¨ç”ŸæˆID",
  title: "æ´»åŠ¨æ ‡é¢˜",
  description: "æ´»åŠ¨æè¿°",
  image: "å›¾ç‰‡URL",
  status: "ongoing",  // upcoming, ongoing, ended
  startDate: "2025-03-01",
  endDate: "2025-03-31",
  location: "æ´»åŠ¨åœ°ç‚¹",
  participants: 25,
  organizer: "ç»„ç»‡è€…",
  category: "æ¯”èµ›",
  details: {
    introduction: "æ´»åŠ¨ä»‹ç»",
    rules: ["è§„åˆ™1", "è§„åˆ™2"],
    prizes: ["å¥–é¡¹1", "å¥–é¡¹2"],
    schedule: ["å®‰æ’1", "å®‰æ’2"]
  },
  candidates: [
    { id: 1, name: "å€™é€‰äºº", votes: 15, avatar: "å¤´åƒURL" }
  ]
}
```

#### 5. `messages` - èŠå¤©æ¶ˆæ¯è¡¨ï¼ˆå¾…å®ç°ï¼‰
**å½“å‰çŠ¶æ€**: âš ï¸ ä½¿ç”¨ç¡¬ç¼–ç æ•°æ®ï¼Œå°šæœªè¿æ¥æ•°æ®åº“

```javascript
{
  id: "è‡ªåŠ¨ç”ŸæˆID",
  senderId: "ç”¨æˆ·ID",
  receiverId: "æ¥æ”¶è€…ID",
  content: "æ¶ˆæ¯å†…å®¹",
  avatar: "å¤´åƒURL",
  time: "æ—¶é—´æˆ³",
  timestamp: "2025-01-01T00:00:00.000Z"
}
```

#### 6. `courses` - è¯¾ç¨‹è¡¨
**å½“å‰çŠ¶æ€**: âœ… å·²åˆ›å»ºæ•°æ®åº“é›†åˆï¼Œä½†ä»£ç ä¸­ä»ä½¿ç”¨ç¡¬ç¼–ç æ•°æ®

```javascript
{
  id: "SPEC_C001round001",  // æ–‡æ¡£IDï¼ˆè¯¾ç¨‹IDï¼‰
  category: "SPEC",  // è¯¾ç¨‹ç±»åˆ«
  timeSlot: "SAT 12:00 - 14:00",  // æ—¶é—´æ®µ
  lessons: [  // è¯¾ç¨‹åˆ—è¡¨
    {
      id: 1,  // è¯¾ç¨‹åºå·
      name: "æ•…äº‹èµ·èˆª - èªè­˜è‡ªæˆ‘èˆ‡èˆå°",
      dateStr: "2025-12-13",  // æ—¥æœŸå­—ç¬¦ä¸²
      completed: false  // æ˜¯å¦å®Œæˆ
    },
    {
      id: 2,
      name: "å¥å­çµæ§‹å¤§å¸« - æ¸…æ™°è¡¨é”",
      dateStr: "2025-12-20",
      completed: false
    },
    // ... å…±12èŠ‚è¯¾ç¨‹
  ]
}
```

**æ•°æ®ç»“æ„è¯´æ˜**:
- æ¯ä¸ªè¯¾ç¨‹æ–‡æ¡£ä»£è¡¨ä¸€ä¸ªè¯¾ç¨‹ç­æ¬¡ï¼ˆroundï¼‰
- `lessons` æ•°ç»„åŒ…å«è¯¥è¯¾ç¨‹çš„æ‰€æœ‰è¯¾æ—¶
- å­¦ç”Ÿé€šè¿‡ `enrollment` æ•°ç»„ä¸­çš„ `courseId` å…³è”åˆ°å…·ä½“è¯¾ç¨‹

#### 7. `timeSlots` - è¡¥è¯¾æ—¶é—´æ®µè¡¨ï¼ˆå¾…å®ç°ï¼‰
**å½“å‰çŠ¶æ€**: âš ï¸ ä½¿ç”¨ç¡¬ç¼–ç æ•°æ®ï¼Œå°šæœªè¿æ¥æ•°æ®åº“

```javascript
{
  id: "æ—¶é—´æ®µID",
  date: "2025-12-21",
  dateDisplay: "2025å¹´12æœˆ21æ—¥",
  day: "å‘¨å…­",
  time: "12:00 - 14:00",
  currentStudents: 8,
  maxStudents: 10,
  available: true
}
```

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **å‰ç«¯æ¡†æ¶**: React 18.2.0
- **æ„å»ºå·¥å…·**: Vite 5.2.0
- **åç«¯æœåŠ¡**: Firebase
  - Firebase Authenticationï¼ˆé‚®ç®±/å¯†ç è®¤è¯ï¼‰
  - Cloud Firestoreï¼ˆæ•°æ®åº“ï¼‰
- **UIåº“**: åŸç”Ÿ CSSï¼ˆè‡ªå®šä¹‰æ ·å¼ï¼‰
- **å…¶ä»–ä¾èµ–**: emoji-picker-react

## ğŸ“¦ å®‰è£…ä¸è¿è¡Œ

### 1. å®‰è£…ä¾èµ–
```bash
npm install
```

### 2. é…ç½®ç¯å¢ƒå˜é‡
åˆ›å»º `.env` æ–‡ä»¶ï¼š
```env
VITE_FIREBASE_API_KEY=your_firebase_api_key
```

### 3. é…ç½® Firebase
1. åœ¨ Firebase Console ä¸­åˆ›å»ºé¡¹ç›®
2. å¯ç”¨ Authentication - é‚®ç®±/å¯†ç ç™»å½•
3. åˆ›å»º Firestore æ•°æ®åº“
4. é…ç½® Firestore å®‰å…¨è§„åˆ™ï¼ˆå¼€å‘é˜¶æ®µå¯è®¾ç½®ä¸ºæµ‹è¯•æ¨¡å¼ï¼‰

### 4. è¿è¡Œå¼€å‘æœåŠ¡å™¨
```bash
npm run dev
```

### 5. æ„å»ºç”Ÿäº§ç‰ˆæœ¬
```bash
npm run build
```

## ğŸ” è®¤è¯æµç¨‹

### æ³¨å†Œæµç¨‹
1. ç”¨æˆ·å¡«å†™é‚®ç®±ã€å¯†ç ã€å­¦ç”ŸID
2. ç³»ç»ŸéªŒè¯å­¦ç”ŸIDæ˜¯å¦å­˜åœ¨äº `students` é›†åˆ
3. åˆ›å»º Firebase Authentication è´¦å·
4. åœ¨ `accounts` é›†åˆä¸­åˆ›å»ºè´¦å·è®°å½•ï¼ˆä½¿ç”¨UIDä½œä¸ºæ–‡æ¡£IDï¼‰
5. è‡ªåŠ¨ç™»å½•

### ç™»å½•æµç¨‹
1. ç”¨æˆ·è¾“å…¥é‚®ç®±å’Œå¯†ç 
2. Firebase Authentication éªŒè¯
3. ä» `accounts` é›†åˆè·å–è´¦å·ä¿¡æ¯ï¼ˆåŒ…å«å­¦ç”ŸIDï¼‰
4. æ ¹æ®å­¦ç”ŸIDè¿‡æ»¤æ˜¾ç¤ºæ•°æ®

### æƒé™æ§åˆ¶
- ç™»å½•ååªèƒ½æŸ¥çœ‹ç»‘å®šå­¦ç”ŸIDçš„æ•°æ®
- è¯·å‡ç”³è¯·è‡ªåŠ¨å…³è”åˆ°ç™»å½•ç”¨æˆ·çš„å­¦ç”ŸID
- å­¦ç”Ÿä¿¡æ¯è‡ªåŠ¨åŠ è½½å¯¹åº”å­¦ç”Ÿçš„æ•°æ®

## ğŸ§ª æµ‹è¯•å·¥å…·

### 1. å­¦ç”Ÿè¡¨æµ‹è¯•å·¥å…·
- ä½ç½®: è¯·å‡ç”³è¯·é¡µé¢ â†’ "æ˜¾ç¤ºå­¦ç”Ÿè¡¨æµ‹è¯•"
- åŠŸèƒ½:
  - è·å–æ‰€æœ‰å­¦ç”Ÿåˆ—è¡¨
  - æŸ¥çœ‹å­¦ç”Ÿè¯¦ç»†ä¿¡æ¯
  - æ˜¾ç¤ºæ‰€æœ‰å­—æ®µåŠç±»å‹

### 2. è¯·å‡ç”³è¯·æµ‹è¯•å·¥å…·
- ä½ç½®: è¯·å‡ç”³è¯·é¡µé¢ â†’ "æ˜¾ç¤ºè¯·å‡ç”³è¯·æµ‹è¯•"
- åŠŸèƒ½:
  - è·å–æ‰€æœ‰è¯·å‡ç”³è¯·
  - æŒ‰å­¦ç”ŸIDæŸ¥è¯¢
  - åˆ›å»ºæµ‹è¯•æ•°æ®ï¼ˆå¾…å®¡æ ¸/å·²é€šè¿‡/å·²æ‹’ç»ï¼‰

### 3. è´¦å·æµ‹è¯•å·¥å…·
- ä½ç½®: è¯·å‡ç”³è¯·é¡µé¢ â†’ "æ˜¾ç¤ºè´¦å·æµ‹è¯•"
- åŠŸèƒ½:
  - è·å–æ‰€æœ‰è´¦å·
  - æ‰¹é‡åˆ›å»ºæµ‹è¯•è´¦å·
  - å•ä¸ªåˆ›å»ºæµ‹è¯•è´¦å·

## âš ï¸ ç¡¬ç¼–ç æ•°æ®æ¸…å•

### éœ€è¦è¿ç§»åˆ°æ•°æ®åº“çš„æ¨¡å—ï¼š

#### 1. æ´»åŠ¨ä¸­å¿ƒ (`src/components/activities/`)
- âœ… **Activities.jsx**: æ´»åŠ¨åˆ—è¡¨æ•°æ®ï¼ˆ4ä¸ªç¤ºä¾‹æ´»åŠ¨ï¼‰
- âœ… **VotingPanel.jsx**: æŠ•ç¥¨å€™é€‰äººå’Œç¥¨æ•°
- **è¿ç§»è®¡åˆ’**: åˆ›å»º `activities` é›†åˆï¼Œè¿ç§»æ´»åŠ¨æ•°æ®

#### 2. è¯·å‡ç”³è¯· (`src/pages/LeaveRequest.jsx`)
- âœ… **è¯¾ç¨‹æ•°æ®**: `lessons` æ•°ç»„ï¼ˆ12èŠ‚è¯¾ç¨‹ï¼‰- **ç¡¬ç¼–ç ** âš ï¸
  - **æ•°æ®åº“çŠ¶æ€**: âœ… Firebaseä¸­å·²æœ‰ `courses` é›†åˆï¼ŒåŒ…å«å®Œæ•´çš„è¯¾ç¨‹æ•°æ®
  - **æ•°æ®ç»“æ„**: 
    - `courses` é›†åˆï¼š`{ id: "SPEC_C001round001", category: "SPEC", timeSlot: "SAT 12:00 - 14:00", lessons: [...] }`
    - `students.enrollment` æ•°ç»„ï¼š`[{ courseId: "SPEC_C001round001", id: 1, name: "...", dateStr: "...", timeSlot: "...", completed: false }]`
  - **å¾…è¿ç§»**: éœ€è¦å°†ä»£ç ä»ç¡¬ç¼–ç æ”¹ä¸ºï¼š
    1. ä» `students.enrollment` è·å–å­¦ç”Ÿæ³¨å†Œçš„è¯¾ç¨‹åˆ—è¡¨
    2. é€šè¿‡ `enrollment[].courseId` å…³è”åˆ° `courses.id` è·å–å®Œæ•´è¯¾ç¨‹ä¿¡æ¯
    3. åˆå¹¶ `enrollment` å’Œ `courses.lessons` æ•°æ®ï¼ˆåŒ…å« `completed` çŠ¶æ€ï¼‰
- âœ… **è¡¥è¯¾æ—¶é—´æ®µ**: `makeupTimeSlots` æ•°ç»„ - **ç¡¬ç¼–ç ** âš ï¸
  - **è¿ç§»è®¡åˆ’**: åˆ›å»º `timeSlots` é›†åˆå­˜å‚¨è¡¥è¯¾æ—¶é—´æ®µ
- **å·²è¿æ¥æ•°æ®åº“**:
  - âœ… å­¦ç”Ÿæ•°æ®ä» `students` é›†åˆåŠ è½½ï¼ˆåŒ…å« `personalInfo` å’Œ `enrollment`ï¼‰
  - âœ… è¯·å‡ç”³è¯·ä» `requests` é›†åˆåŠ è½½

#### 3. èŠå¤©ç³»ç»Ÿ (`src/components/chat/`, `src/components/list/`)
- **ç¡¬ç¼–ç çŠ¶æ€**: âš ï¸ **å®Œå…¨ç¡¬ç¼–ç **
- `Chat.jsx`: èŠå¤©æ¶ˆæ¯æ•°æ®ç¡¬ç¼–ç ï¼ˆç¤ºä¾‹æ¶ˆæ¯ï¼‰
- `currentUserId`: å½“å‰ç”¨æˆ·IDç¡¬ç¼–ç ä¸º "user_123"
- **è¿ç§»è®¡åˆ’**: åˆ›å»º `messages` é›†åˆï¼Œå®ç°å®æ—¶èŠå¤©åŠŸèƒ½

## ğŸ“ å¾…åŠäº‹é¡¹

### æ•°æ®åº“è¿ç§»
- [ ] å°†æ´»åŠ¨æ•°æ®è¿ç§»åˆ° Firebase `activities` é›†åˆ
  - [ ] è¿ç§»æ´»åŠ¨åŸºæœ¬ä¿¡æ¯
  - [ ] è¿ç§»æ´»åŠ¨è¯¦æƒ…ï¼ˆä»‹ç»ã€è§„åˆ™ã€å®‰æ’ã€å¥–é¡¹ï¼‰
  - [ ] è¿ç§»æŠ•ç¥¨å€™é€‰äººæ•°æ®
  - [ ] å®ç°æŠ•ç¥¨å®æ—¶åŒæ­¥
- [ ] å°†è¯¾ç¨‹æ•°æ®ä»ç¡¬ç¼–ç è¿ç§»åˆ° Firebase `courses` é›†åˆ
  - [x] âœ… **æ•°æ®åº“å·²åˆ›å»º** `courses` é›†åˆï¼ˆåŒ…å«å®Œæ•´è¯¾ç¨‹æ•°æ®ï¼‰
  - [x] âœ… **æ•°æ®åº“å·²åˆ›å»º** `students` é›†åˆï¼ˆåŒ…å« `enrollment` æ•°ç»„ï¼‰
  - [ ] âš ï¸ **å¾…å®Œæˆ**: ä¿®æ”¹ `LeaveRequest.jsx` ä» `courses` é›†åˆåŠ è½½è¯¾ç¨‹æ•°æ®
  - [ ] âš ï¸ **å¾…å®Œæˆ**: æ ¹æ®å­¦ç”Ÿ `enrollment[].courseId` å…³è”åˆ° `courses.id`
  - [ ] âš ï¸ **å¾…å®Œæˆ**: ä» `students.enrollment` è·å–å­¦ç”Ÿçš„è¯¾ç¨‹åˆ—è¡¨
  - [ ] å®ç°è¯¾ç¨‹è¿›åº¦çŠ¶æ€çš„å®æ—¶åŒæ­¥ï¼ˆ`completed` å­—æ®µï¼‰
  - [ ] å®ç°è¯¾ç¨‹æ•°æ®çš„åŠ¨æ€åŠ è½½
- [ ] å°†è¡¥è¯¾æ—¶é—´æ®µè¿ç§»åˆ° Firebase `timeSlots` é›†åˆ
  - [ ] å­˜å‚¨å¯ç”¨æ—¶é—´æ®µ
  - [ ] å®ç°æ—¶é—´æ®µå®æ—¶æ›´æ–°
- [ ] å°†èŠå¤©æ¶ˆæ¯è¿ç§»åˆ° Firebase `messages` é›†åˆ
  - [ ] å®ç°å®æ—¶æ¶ˆæ¯åŒæ­¥
  - [ ] å®ç°æ¶ˆæ¯å†å²è®°å½•

### åŠŸèƒ½å¢å¼º
- [ ] æ·»åŠ æ´»åŠ¨ç®¡ç†åå°ï¼ˆç®¡ç†å‘˜åŠŸèƒ½ï¼‰
- [ ] å®ç°æ´»åŠ¨å›¾ç‰‡ä¸Šä¼ åŠŸèƒ½
- [ ] æ·»åŠ è¯¾ç¨‹ç®¡ç†åŠŸèƒ½
- [ ] å®Œå–„æŠ•ç¥¨é˜²åˆ·æœºåˆ¶

### å®‰å…¨ä¸ä¼˜åŒ–
- [ ] é…ç½® Firestore å®‰å…¨è§„åˆ™
- [ ] å®ç°æŠ•ç¥¨é˜²é‡å¤æœºåˆ¶ï¼ˆä½¿ç”¨ç”¨æˆ·IDï¼‰
- [ ] æ·»åŠ æ•°æ®éªŒè¯è§„åˆ™
- [ ] ä¼˜åŒ–æŸ¥è¯¢æ€§èƒ½ï¼ˆæ·»åŠ ç´¢å¼•ï¼‰

## ğŸ”§ Firebase é…ç½®è¦æ±‚

### Authentication
- âœ… å¯ç”¨é‚®ç®±/å¯†ç ç™»å½•æ–¹å¼
- âœ… é…ç½®é‚®ç®±éªŒè¯ï¼ˆå¯é€‰ï¼‰

### Firestore
- âœ… å·²åˆ›å»ºé›†åˆï¼š
  - `students` - å­¦ç”Ÿä¿¡æ¯ï¼ˆåŒ…å« `enrollment` å’Œ `personalInfo`ï¼‰
  - `accounts` - è´¦å·ä¿¡æ¯
  - `requests` - è¯·å‡ç”³è¯·
  - `courses` - è¯¾ç¨‹ä¿¡æ¯ï¼ˆåŒ…å«è¯¾ç¨‹åˆ—è¡¨å’Œè¯¾æ—¶ä¿¡æ¯ï¼‰
- âš ï¸ å¾…åˆ›å»ºé›†åˆï¼š
  - `activities` - æ´»åŠ¨ä¿¡æ¯
  - `timeSlots` - è¡¥è¯¾æ—¶é—´æ®µ
  - `messages` - èŠå¤©æ¶ˆæ¯

### ç´¢å¼•è¦æ±‚
- `requests` é›†åˆéœ€è¦åˆ›å»ºå¤åˆç´¢å¼•ï¼š
  - `studentId` (Ascending) + `submitTime` (Descending)

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®ä¸ºç§æœ‰é¡¹ç›®ã€‚

## ğŸ‘¥ å¼€å‘è€…

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·è”ç³»å¼€å‘å›¢é˜Ÿã€‚
