# ğŸš¨ å¿«é€Ÿä¿®å¤ï¼šFirebase Storage ä¸Šä¼ å¤±è´¥ï¼ˆ403 é”™è¯¯ï¼‰

## é—®é¢˜
ä¸Šä¼ æ–‡ä»¶æ—¶å‡ºç° `403 (Forbidden)` é”™è¯¯ï¼ŒåŸå› æ˜¯ **Firebase Storage å®‰å…¨è§„åˆ™æœªé…ç½®**ã€‚

## âš¡ 5åˆ†é’Ÿå¿«é€Ÿä¿®å¤

### æ­¥éª¤ 1: æ‰“å¼€ Firebase Console
è®¿é—®ï¼šhttps://console.firebase.google.com/

### æ­¥éª¤ 2: é€‰æ‹©é¡¹ç›®
ç‚¹å‡»é¡¹ç›®ï¼š**siuroma-kids**

### æ­¥éª¤ 3: è¿›å…¥ Storage è§„åˆ™
1. ç‚¹å‡»å·¦ä¾§èœå• **"Storage"**ï¼ˆå­˜å‚¨ç©ºé—´ï¼‰
2. ç‚¹å‡»é¡¶éƒ¨ **"è§„åˆ™"** æ ‡ç­¾é¡µ

### æ­¥éª¤ 4: å¤åˆ¶å¹¶ç²˜è´´ä»¥ä¸‹è§„åˆ™
**å®Œå…¨æ›¿æ¢**ç°æœ‰çš„è§„åˆ™å†…å®¹ï¼š

```javascript
rules_version = '2';
service firebase.storage {
  match /b/{bucket}/o {
    match /{allPaths=**} {
      // âš ï¸ æµ‹è¯•æ¨¡å¼ï¼šå…è®¸æ‰€æœ‰äººè¯»å†™åˆ é™¤å’Œåˆ—è¡¨ï¼ˆä»…ç”¨äºå¼€å‘æµ‹è¯•ï¼‰
      // æ³¨æ„ï¼šread æƒé™åŒ…å« list æ“ä½œï¼ˆåˆ—å‡ºæ–‡ä»¶å¤¹å†…å®¹ï¼‰
      allow read: if true;  // å…è®¸è¯»å–ã€ä¸‹è½½å’Œåˆ—å‡ºæ–‡ä»¶
      allow write: if request.resource.size < 100 * 1024 * 1024
                 && request.resource.contentType.matches('image/.*|video/.*');
      allow delete: if true;  // å…è®¸åˆ é™¤æ–‡ä»¶
    }
  }
}
```

**é‡è¦è¯´æ˜**ï¼š
- `read: if true` - å…è®¸è¯»å–ã€ä¸‹è½½å’Œ**åˆ—å‡ºæ–‡ä»¶**ï¼ˆå¿…éœ€ï¼ŒåŒ…å«listæ“ä½œï¼‰â­
- `write` - å…è®¸ä¸Šä¼ æ–‡ä»¶ï¼ˆå¿…éœ€ï¼Œæ ¡éªŒå¤§å°å’Œç±»å‹ï¼‰
- `delete: if true` - å…è®¸åˆ é™¤æ–‡ä»¶ï¼ˆå¿…éœ€ï¼‰

**æ³¨æ„**ï¼š`read` æƒé™åŒ…æ‹¬ï¼š
- è¯»å–æ–‡ä»¶å†…å®¹
- è·å–ä¸‹è½½URL
- **åˆ—å‡ºæ–‡ä»¶å¤¹å†…å®¹ï¼ˆlistæ“ä½œï¼‰** â­ è¿™ä¸ªå¾ˆé‡è¦ï¼Œæ²¡æœ‰è¿™ä¸ªæ— æ³•æ˜¾ç¤ºå†å²æ–‡ä»¶ï¼

### æ­¥éª¤ 5: å‘å¸ƒè§„åˆ™
1. ç‚¹å‡»å³ä¸Šè§’ **"å‘å¸ƒ"** æŒ‰é’®
2. ç­‰å¾… 10-30 ç§’è®©è§„åˆ™ç”Ÿæ•ˆ

### æ­¥éª¤ 6: æµ‹è¯•ä¸Šä¼ 
1. åˆ·æ–°æµè§ˆå™¨é¡µé¢
2. é‡æ–°å°è¯•ä¸Šä¼ æ–‡ä»¶

## âœ… éªŒè¯ä¿®å¤

ä¸Šä¼ æˆåŠŸåï¼Œä½ åº”è¯¥çœ‹åˆ°ï¼š
- âœ… æ–‡ä»¶ä¸Šä¼ è¿›åº¦æ¡æ­£å¸¸æ˜¾ç¤º
- âœ… ä¸Šä¼ å®Œæˆåæ–‡ä»¶å‡ºç°åœ¨åˆ—è¡¨ä¸­
- âœ… æ²¡æœ‰ 403 é”™è¯¯

## âš ï¸ é‡è¦æç¤º

**å½“å‰è§„åˆ™æ˜¯æµ‹è¯•æ¨¡å¼**ï¼Œå…è®¸ä»»ä½•äººä¸Šä¼ /ä¸‹è½½æ–‡ä»¶ã€‚ç”Ÿäº§ç¯å¢ƒéœ€è¦æ›´ä¸¥æ ¼çš„å®‰å…¨è§„åˆ™ã€‚

å¦‚æœéœ€è¦ç”Ÿäº§ç¯å¢ƒè§„åˆ™ï¼ˆè¦æ±‚ç”¨æˆ·ç™»å½•ï¼‰ï¼Œè¯·æŸ¥çœ‹ `STORAGE_RULES_SETUP.md` æ–‡ä»¶ä¸­çš„"æ–¹æ³• 2"ã€‚

## ğŸ› å¦‚æœä»ç„¶å¤±è´¥

1. **æ£€æŸ¥è§„åˆ™æ˜¯å¦å·²å‘å¸ƒ**
   - ç¡®ä¿ç‚¹å‡»äº†"å‘å¸ƒ"æŒ‰é’®
   - ç­‰å¾… 30 ç§’åé‡è¯•

2. **æ£€æŸ¥è§„åˆ™è¯­æ³•**
   - ç¡®ä¿å®Œå…¨å¤åˆ¶äº†ä¸Šé¢çš„è§„åˆ™
   - ç¡®ä¿æ²¡æœ‰å¤šä½™çš„ç©ºæ ¼æˆ–å­—ç¬¦

3. **æ¸…é™¤æµè§ˆå™¨ç¼“å­˜**
   - æŒ‰ `Ctrl + Shift + R` (Windows) æˆ– `Cmd + Shift + R` (Mac) å¼ºåˆ¶åˆ·æ–°

4. **æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°**
   - æŒ‰ F12 æ‰“å¼€å¼€å‘è€…å·¥å…·
   - æŸ¥çœ‹æ˜¯å¦æœ‰å…¶ä»–é”™è¯¯ä¿¡æ¯

